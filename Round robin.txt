#include<stdio.h>
void main()
   {

      int j,q,i,n,ts;
      int aw;                        //total waiting time      
      float awt;                     //average waiting time
      int bt[10],wt[10],te[10],rt[10];j=0; clrscr();
      printf("enter number of process :\t");
      scanf("%d",&n);
      printf("\n enter brust time \n");
      for(i=0;i<n;i++)
       {
                printf("P%d\t",i+1);
                scanf("%d",&bt[i]);
                rt[i]=bt[i];
                te[i]=0;     wt[i]=0;                
       }  
     printf("\n enter time slice\t");
     scanf("%d",&ts); q=0;   clrscr();
     printf("\nprocess      :")  ;
     for(i=0;i<n;i++) 
       {
             printf("  %d",i+1);
       }
     printf("\nBrust time   :");
     for(i=0;i<n;i++)
          {
              printf("  %d",bt[i]);
          }
     printf("\n Gaint chart \n");
     while(j<=n)
         {
            j++;
           for(i=0;i<n;i++)
                 {
                     if(rt[i]==0)  continue;
                     if(rt[i]>ts) 
                            {
                                 printf("\n %d\t P%d",q,i+1);
                                 q=q+ts;
                                 rt[i]=rt[i]-ts;
                                 te[i]=te[i]+1;
                            }
                     else
                           {
                                printf("\n %d\t P%d",q,i+1);
                                wt[i]=q-te[i]*ts;  
                                q=q+rt[i];
                                 rt[i]=rt[i]-rt[i];
                            }
                 }
          }                                               //end of while loop
     awt=0;
     printf("\n Process   Waitnig time");
     for(i=0;i<n;i++) 
         {
              printf("\n P%d      :   %d",i+1,wt[i]); awt=awt+wt[i];
         }
     aw=awt;
     printf("\ntotal waiting time %d",aw);
     printf("\n Avg wainting time %f ",awt/n);
     getch();
  }